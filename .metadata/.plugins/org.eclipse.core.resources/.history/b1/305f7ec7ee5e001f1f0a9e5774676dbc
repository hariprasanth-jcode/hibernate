package com.jspider.project.dao;

import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.EntityTransaction;
import javax.persistence.Query;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import com.jspider.project.dto.Employee;
@Component(value="dao")
public class EmployeeDao {
@Autowired
private EntityManagerFactory entitymanagerfactory;

public void saveEmployee(Employee employee) {
	EntityManager	entitymanager=entitymanagerfactory.createEntityManager();
	EntityTransaction entitytransaction=entitymanager.getTransaction();
	entitytransaction.begin();
	entitymanager.persist(employee);
	entitytransaction.commit();
	System.out.println("Employee data saved");
}

public Employee getEmployee(int id) {
	Query query = entitymanager.createQuery("Employee e from Employee e");
	List<Employee> employee = query.getResultList();
	return employee.get(id-1);
}
}
